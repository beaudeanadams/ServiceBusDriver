@inherits LayoutComponentBase
@using Blazored.Toast.Configuration
@using Microsoft.Extensions.Logging
@using ServiceBusDriver.Client.Features.Instance
@using ServiceBusDriver.Client.UIComponents.Components
@inject NavigationManager _navManager
@inject HttpClient _http
@inject IInstanceHandler _instanceHandler
@inject ILogger<MainLayout> _logger


    <BlazoredToasts Position="ToastPosition.BottomRight"
                    Timeout="5"
                    RemoveToastsOnNavigation ="true"
                    ShowProgressBar="true"
                    MaxToastCount ="2" />

<AuthorizeView>
    <NotAuthorized>
        <NavMenu/>
    </NotAuthorized>
    <Authorized>

        <NavMenu/>
        <div class="flex flex-col flex-wrap flex-grow w-full py-4 sm:flex-row sm:flex-nowrap" style="min-height:800px">
            <LeftSideBar/>

            <main role="main" class="flex-grow w-full px-3 pt-1">
                @Body
            </main>

            <RightSideBar/>
        </div>
        <Footer/>
    </Authorized>
</AuthorizeView>